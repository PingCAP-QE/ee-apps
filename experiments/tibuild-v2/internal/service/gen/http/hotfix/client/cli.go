// Code generated by goa v3.20.0, DO NOT EDIT.
//
// hotfix HTTP client CLI support package
//
// Command:
// $ goa gen github.com/PingCAP-QE/ee-apps/tibuild/internal/service/design -o
// ./service

package client

import (
	"encoding/json"
	"fmt"

	hotfix "github.com/PingCAP-QE/ee-apps/tibuild/internal/service/gen/hotfix"
)

// BuildBumpForTidbxPayload builds the payload for the hotfix bump-for-tidbx
// endpoint from CLI flags.
func BuildBumpForTidbxPayload(hotfixBumpForTidbxBody string) (*hotfix.BumpForTidbxPayload, error) {
	var err error
	var body BumpForTidbxRequestBody
	{
		err = json.Unmarshal([]byte(hotfixBumpForTidbxBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"author\": \"wuhuizuo\",\n      \"branch\": \"release-8.5\",\n      \"commit\": \"abc123def456\",\n      \"repo\": \"pingcap/tidb\"\n   }'")
		}
	}
	v := &hotfix.BumpForTidbxPayload{
		Repo:   body.Repo,
		Branch: body.Branch,
		Commit: body.Commit,
		Author: body.Author,
	}

	return v, nil
}
