// Code generated by goa v3.20.0, DO NOT EDIT.
//
// hotfix HTTP server types
//
// Command:
// $ goa gen github.com/PingCAP-QE/ee-apps/tibuild/internal/service/design -o
// ./service

package server

import (
	hotfix "github.com/PingCAP-QE/ee-apps/tibuild/internal/service/gen/hotfix"
	goa "goa.design/goa/v3/pkg"
)

// BumpTagForTidbxRequestBody is the type of the "hotfix" service
// "bump-tag-for-tidbx" endpoint HTTP request body.
type BumpTagForTidbxRequestBody struct {
	// Full name of GitHub repository (e.g., 'owner/repo')
	Repo *string `form:"repo,omitempty" json:"repo,omitempty" xml:"repo,omitempty"`
	// Branch name of the GitHub repo
	Branch *string `form:"branch,omitempty" json:"branch,omitempty" xml:"branch,omitempty"`
	// Short or full git commit SHA
	Commit *string `form:"commit,omitempty" json:"commit,omitempty" xml:"commit,omitempty"`
	// The email who requested to create the git tag
	Author *string `form:"author,omitempty" json:"author,omitempty" xml:"author,omitempty"`
	// meta data for the bumping context
	Meta *TiDBxBumpTagMetaRequestBody `form:"meta,omitempty" json:"meta,omitempty" xml:"meta,omitempty"`
}

// BumpTagForTidbxResponseBody is the type of the "hotfix" service
// "bump-tag-for-tidbx" endpoint HTTP response body.
type BumpTagForTidbxResponseBody struct {
	// Full name of GitHub repository
	Repo string `form:"repo" json:"repo" xml:"repo"`
	// The commit tag created on
	Commit string `form:"commit" json:"commit" xml:"commit"`
	// Git tag name
	Tag string `form:"tag" json:"tag" xml:"tag"`
	// The email who requested to create the git tag
	Author *string `form:"author,omitempty" json:"author,omitempty" xml:"author,omitempty"`
	// meta data
	Meta *TiDBxBumpTagMetaResponseBody `form:"meta,omitempty" json:"meta,omitempty" xml:"meta,omitempty"`
}

// QueryTagOfTidbxResponseBody is the type of the "hotfix" service
// "query-tag-of-tidbx" endpoint HTTP response body.
type QueryTagOfTidbxResponseBody struct {
	// Full name of GitHub repository
	Repo string `form:"repo" json:"repo" xml:"repo"`
	// The commit tag created on
	Commit string `form:"commit" json:"commit" xml:"commit"`
	// Git tag name
	Tag string `form:"tag" json:"tag" xml:"tag"`
	// The email who requested to create the git tag
	Author *string `form:"author,omitempty" json:"author,omitempty" xml:"author,omitempty"`
	// meta data
	Meta *TiDBxBumpTagMetaResponseBody `form:"meta,omitempty" json:"meta,omitempty" xml:"meta,omitempty"`
}

// BumpTagForTidbxBadRequestResponseBody is the type of the "hotfix" service
// "bump-tag-for-tidbx" endpoint HTTP response body for the "BadRequest" error.
type BumpTagForTidbxBadRequestResponseBody struct {
	Code    int    `form:"code" json:"code" xml:"code"`
	Message string `form:"message" json:"message" xml:"message"`
}

// BumpTagForTidbxInternalServerErrorResponseBody is the type of the "hotfix"
// service "bump-tag-for-tidbx" endpoint HTTP response body for the
// "InternalServerError" error.
type BumpTagForTidbxInternalServerErrorResponseBody struct {
	Code    int    `form:"code" json:"code" xml:"code"`
	Message string `form:"message" json:"message" xml:"message"`
}

// QueryTagOfTidbxBadRequestResponseBody is the type of the "hotfix" service
// "query-tag-of-tidbx" endpoint HTTP response body for the "BadRequest" error.
type QueryTagOfTidbxBadRequestResponseBody struct {
	Code    int    `form:"code" json:"code" xml:"code"`
	Message string `form:"message" json:"message" xml:"message"`
}

// QueryTagOfTidbxInternalServerErrorResponseBody is the type of the "hotfix"
// service "query-tag-of-tidbx" endpoint HTTP response body for the
// "InternalServerError" error.
type QueryTagOfTidbxInternalServerErrorResponseBody struct {
	Code    int    `form:"code" json:"code" xml:"code"`
	Message string `form:"message" json:"message" xml:"message"`
}

// TiDBxBumpTagMetaResponseBody is used to define fields on response body types.
type TiDBxBumpTagMetaResponseBody struct {
	OpsReq *struct {
		Applicant *string `form:"applicant" json:"applicant" xml:"applicant"`
		ReleaseID *string `form:"release_id" json:"release_id" xml:"release_id"`
		ChangeID  *string `form:"change_id" json:"change_id" xml:"change_id"`
	} `form:"ops_req,omitempty" json:"ops_req,omitempty" xml:"ops_req,omitempty"`
}

// TiDBxBumpTagMetaRequestBody is used to define fields on request body types.
type TiDBxBumpTagMetaRequestBody struct {
	OpsReq *struct {
		Applicant *string `form:"applicant" json:"applicant" xml:"applicant"`
		ReleaseID *string `form:"release_id" json:"release_id" xml:"release_id"`
		ChangeID  *string `form:"change_id" json:"change_id" xml:"change_id"`
	} `form:"ops_req,omitempty" json:"ops_req,omitempty" xml:"ops_req,omitempty"`
}

// NewBumpTagForTidbxResponseBody builds the HTTP response body from the result
// of the "bump-tag-for-tidbx" endpoint of the "hotfix" service.
func NewBumpTagForTidbxResponseBody(res *hotfix.HotfixTagResult) *BumpTagForTidbxResponseBody {
	body := &BumpTagForTidbxResponseBody{
		Repo:   res.Repo,
		Commit: res.Commit,
		Tag:    res.Tag,
		Author: res.Author,
	}
	if res.Meta != nil {
		body.Meta = marshalHotfixTiDBxBumpTagMetaToTiDBxBumpTagMetaResponseBody(res.Meta)
	}
	return body
}

// NewQueryTagOfTidbxResponseBody builds the HTTP response body from the result
// of the "query-tag-of-tidbx" endpoint of the "hotfix" service.
func NewQueryTagOfTidbxResponseBody(res *hotfix.HotfixTagResult) *QueryTagOfTidbxResponseBody {
	body := &QueryTagOfTidbxResponseBody{
		Repo:   res.Repo,
		Commit: res.Commit,
		Tag:    res.Tag,
		Author: res.Author,
	}
	if res.Meta != nil {
		body.Meta = marshalHotfixTiDBxBumpTagMetaToTiDBxBumpTagMetaResponseBody(res.Meta)
	}
	return body
}

// NewBumpTagForTidbxBadRequestResponseBody builds the HTTP response body from
// the result of the "bump-tag-for-tidbx" endpoint of the "hotfix" service.
func NewBumpTagForTidbxBadRequestResponseBody(res *hotfix.HTTPError) *BumpTagForTidbxBadRequestResponseBody {
	body := &BumpTagForTidbxBadRequestResponseBody{
		Code:    res.Code,
		Message: res.Message,
	}
	return body
}

// NewBumpTagForTidbxInternalServerErrorResponseBody builds the HTTP response
// body from the result of the "bump-tag-for-tidbx" endpoint of the "hotfix"
// service.
func NewBumpTagForTidbxInternalServerErrorResponseBody(res *hotfix.HTTPError) *BumpTagForTidbxInternalServerErrorResponseBody {
	body := &BumpTagForTidbxInternalServerErrorResponseBody{
		Code:    res.Code,
		Message: res.Message,
	}
	return body
}

// NewQueryTagOfTidbxBadRequestResponseBody builds the HTTP response body from
// the result of the "query-tag-of-tidbx" endpoint of the "hotfix" service.
func NewQueryTagOfTidbxBadRequestResponseBody(res *hotfix.HTTPError) *QueryTagOfTidbxBadRequestResponseBody {
	body := &QueryTagOfTidbxBadRequestResponseBody{
		Code:    res.Code,
		Message: res.Message,
	}
	return body
}

// NewQueryTagOfTidbxInternalServerErrorResponseBody builds the HTTP response
// body from the result of the "query-tag-of-tidbx" endpoint of the "hotfix"
// service.
func NewQueryTagOfTidbxInternalServerErrorResponseBody(res *hotfix.HTTPError) *QueryTagOfTidbxInternalServerErrorResponseBody {
	body := &QueryTagOfTidbxInternalServerErrorResponseBody{
		Code:    res.Code,
		Message: res.Message,
	}
	return body
}

// NewBumpTagForTidbxPayload builds a hotfix service bump-tag-for-tidbx
// endpoint payload.
func NewBumpTagForTidbxPayload(body *BumpTagForTidbxRequestBody) *hotfix.BumpTagForTidbxPayload {
	v := &hotfix.BumpTagForTidbxPayload{
		Repo:   *body.Repo,
		Branch: body.Branch,
		Commit: body.Commit,
		Author: *body.Author,
	}
	if body.Meta != nil {
		v.Meta = unmarshalTiDBxBumpTagMetaRequestBodyToHotfixTiDBxBumpTagMeta(body.Meta)
	}

	return v
}

// NewQueryTagOfTidbxPayload builds a hotfix service query-tag-of-tidbx
// endpoint payload.
func NewQueryTagOfTidbxPayload(repo string, tag string) *hotfix.QueryTagOfTidbxPayload {
	v := &hotfix.QueryTagOfTidbxPayload{}
	v.Repo = repo
	v.Tag = tag

	return v
}

// ValidateBumpTagForTidbxRequestBody runs the validations defined on
// Bump-Tag-For-TidbxRequestBody
func ValidateBumpTagForTidbxRequestBody(body *BumpTagForTidbxRequestBody) (err error) {
	if body.Repo == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("repo", "body"))
	}
	if body.Author == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("author", "body"))
	}
	return
}
