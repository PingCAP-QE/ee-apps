{"openapi":"3.0.3","info":{"title":"Publish API","description":"Publish API","contact":{"name":"WuHui Zuo","url":"https://github.com/wuhuizuo","email":"wuhui.zuo@pingcap.com"},"version":"1.0.0"},"servers":[{"url":"http://0.0.0.0:80"}],"paths":{"/fs/publish-request":{"post":{"tags":["fileserver"],"summary":"request-to-publish fileserver","operationId":"fileserver#request-to-publish","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestToPublishRequestBody2"},"example":{"artifact_url":"Quis voluptatem earum et ullam esse."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","example":"Sit id eaque laboriosam nostrum eaque consequatur."},"description":"request track ids","example":["Cumque voluptatem amet at.","Consequatur fuga earum sit sit ipsum ea.","Est magnam a."]},"example":["Tenetur qui perferendis ducimus.","In quo enim.","Ipsam et in non enim."]}}}}}},"/fs/publish-request/{request_id}":{"get":{"tags":["fileserver"],"summary":"query-publishing-status fileserver","operationId":"fileserver#query-publishing-status","parameters":[{"name":"request_id","in":"path","description":"request track id","required":true,"schema":{"type":"string","description":"request track id","example":"Ipsa sunt aut harum quo fuga earum."},"example":"Labore cumque id quod ut repudiandae id."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","description":"request state","example":"queued","enum":["queued","processing","success","failed","canceled"]},"example":"canceled"}}}}}},"/tiup/publish-request":{"post":{"tags":["tiup"],"summary":"request-to-publish tiup","operationId":"tiup#request-to-publish","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestToPublishRequestBody"},"example":{"artifact_url":"Placeat blanditiis est iusto.","request_id":"Quo ut dolor perspiciatis rem assumenda enim.","tiup-mirror":"Totam omnis sunt cum voluptatem amet.","version":"Eum eligendi."}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"array","items":{"type":"string","example":"Quos consequatur."},"description":"request track ids","example":["Pariatur maiores neque enim perferendis.","Qui eligendi iusto ut.","Deserunt nisi voluptates quis quia sed.","Vero qui autem rerum ipsa maxime."]},"example":["Enim facere odio et cupiditate ut exercitationem.","Ratione autem magnam excepturi incidunt suscipit.","Laboriosam ea.","Officia recusandae vel qui voluptates dicta rerum."]}}}}}},"/tiup/publish-request/{request_id}":{"get":{"tags":["tiup"],"summary":"query-publishing-status tiup","operationId":"tiup#query-publishing-status","parameters":[{"name":"request_id","in":"path","description":"request track id","required":true,"schema":{"type":"string","description":"request track id","example":"Et laborum."},"example":"Eligendi dignissimos a itaque et et."}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"type":"string","description":"request state","example":"processing","enum":["queued","processing","success","failed","canceled"]},"example":"failed"}}}}}},"/tiup/reset-rate-limit":{"post":{"tags":["tiup"],"summary":"reset-rate-limit tiup","operationId":"tiup#reset-rate-limit","responses":{"200":{"description":"OK response."}}}}},"components":{"schemas":{"RequestToPublishRequestBody":{"type":"object","properties":{"artifact_url":{"type":"string","description":"The full url of the pushed OCI artifact, contain the tag part. It will parse the repo from it.","example":"Dolorum molestiae vitae ut commodi."},"request_id":{"type":"string","description":"The request id","example":"Nisi earum earum pariatur et animi."},"tiup-mirror":{"type":"string","description":"Staging is http://tiup.pingcap.net:8988, product is http://tiup.pingcap.net:8987.","default":"http://tiup.pingcap.net:8988","example":"Facere maiores tenetur mollitia consequatur perferendis sint."},"version":{"type":"string","description":"Force set the version. Default is the artifact version read from `org.opencontainers.image.version` of the manifest config.","example":"Consectetur dolor magnam aut et labore."}},"example":{"artifact_url":"Aperiam consequatur consequatur.","request_id":"Et sit odio molestiae debitis aut.","tiup-mirror":"Voluptas et saepe autem sint rem corrupti.","version":"Sint a dolores ab veritatis eaque ex."},"required":["artifact_url","tiup-mirror"]},"RequestToPublishRequestBody2":{"type":"object","properties":{"artifact_url":{"type":"string","description":"The full url of the pushed OCI artifact, contain the tag part. It will parse the repo from it.","example":"Excepturi est."}},"example":{"artifact_url":"Ab accusamus."},"required":["artifact_url"]}}},"tags":[{"name":"tiup","description":"TiUP Publisher service"},{"name":"fileserver","description":"Publisher service for static file server "}]}