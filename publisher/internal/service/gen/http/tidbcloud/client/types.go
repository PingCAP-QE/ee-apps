// Code generated by goa v3.23.1, DO NOT EDIT.
//
// tidbcloud HTTP client types
//
// Command:
// $ goa gen github.com/PingCAP-QE/ee-apps/publisher/internal/service/design -o
// ./service

package client

import (
	tidbcloud "github.com/PingCAP-QE/ee-apps/publisher/internal/service/gen/tidbcloud"
	goa "goa.design/goa/v3/pkg"
)

// UpdateComponentVersionInCloudconfigRequestBody is the type of the
// "tidbcloud" service "update-component-version-in-cloudconfig" endpoint HTTP
// request body.
type UpdateComponentVersionInCloudconfigRequestBody struct {
	// env stage
	Stage string `form:"stage" json:"stage" xml:"stage"`
	// container image with tag
	Image string `form:"image" json:"image" xml:"image"`
}

// UpdateComponentVersionInCloudconfigResponseBody is the type of the
// "tidbcloud" service "update-component-version-in-cloudconfig" endpoint HTTP
// response body.
type UpdateComponentVersionInCloudconfigResponseBody struct {
	Stage *string `form:"stage,omitempty" json:"stage,omitempty" xml:"stage,omitempty"`
	// ticket details
	Ticket *struct {
		// ticket ID
		ID *string `form:"id" json:"id" xml:"id"`
		// ticket visit url
		URL *string `form:"url" json:"url" xml:"url"`
		// release window ID
		ReleaseID *string `form:"release_id" json:"release_id" xml:"release_id"`
		// component publish flow ID
		ChangeID *string `form:"change_id" json:"change_id" xml:"change_id"`
	} `form:"ticket,omitempty" json:"ticket,omitempty" xml:"ticket,omitempty"`
}

// NewUpdateComponentVersionInCloudconfigRequestBody builds the HTTP request
// body from the payload of the "update-component-version-in-cloudconfig"
// endpoint of the "tidbcloud" service.
func NewUpdateComponentVersionInCloudconfigRequestBody(p *tidbcloud.UpdateComponentVersionInCloudconfigPayload) *UpdateComponentVersionInCloudconfigRequestBody {
	body := &UpdateComponentVersionInCloudconfigRequestBody{
		Stage: p.Stage,
		Image: p.Image,
	}
	return body
}

// NewUpdateComponentVersionInCloudconfigResultOK builds a "tidbcloud" service
// "update-component-version-in-cloudconfig" endpoint result from a HTTP "OK"
// response.
func NewUpdateComponentVersionInCloudconfigResultOK(body *UpdateComponentVersionInCloudconfigResponseBody) *tidbcloud.UpdateComponentVersionInCloudconfigResult {
	v := &tidbcloud.UpdateComponentVersionInCloudconfigResult{
		Stage: *body.Stage,
	}
	v.Ticket = &struct {
		// ticket ID
		ID string
		// ticket visit url
		URL *string
		// release window ID
		ReleaseID *string
		// component publish flow ID
		ChangeID *string
	}{
		ID:        *body.Ticket.ID,
		URL:       body.Ticket.URL,
		ReleaseID: body.Ticket.ReleaseID,
		ChangeID:  body.Ticket.ChangeID,
	}

	return v
}

// ValidateUpdateComponentVersionInCloudconfigResponseBody runs the validations
// defined on Update-Component-Version-In-CloudconfigResponseBody
func ValidateUpdateComponentVersionInCloudconfigResponseBody(body *UpdateComponentVersionInCloudconfigResponseBody) (err error) {
	if body.Stage == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("stage", "body"))
	}
	if body.Ticket == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("ticket", "body"))
	}
	if body.Ticket != nil {
		if body.Ticket.ID == nil {
			err = goa.MergeErrors(err, goa.MissingFieldError("id", "body.ticket"))
		}
		if body.Ticket.URL != nil {
			err = goa.MergeErrors(err, goa.ValidateFormat("body.ticket.url", *body.Ticket.URL, goa.FormatURI))
		}
	}
	return
}
