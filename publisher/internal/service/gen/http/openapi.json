{"swagger":"2.0","info":{"title":"Publish API","description":"Publish API","contact":{"name":"WuHui Zuo","email":"wuhui.zuo@pingcap.com","url":"https://github.com/wuhuizuo"},"version":"1.0.0"},"host":"0.0.0.0:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/fs/publish-request":{"post":{"tags":["fileserver"],"summary":"request-to-publish fileserver","operationId":"fileserver#request-to-publish","parameters":[{"name":"Request-To-PublishRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/FileserverRequestToPublishRequestBody","required":["artifact_url"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Suscipit rem sunt eveniet reprehenderit ut."}}}},"schemes":["http"]}},"/fs/publish-request/{request_id}":{"get":{"tags":["fileserver"],"summary":"query-publishing-status fileserver","operationId":"fileserver#query-publishing-status","parameters":[{"name":"request_id","in":"path","description":"request track id","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","enum":["queued","processing","success","failed","canceled"]}}},"schemes":["http"]}},"/image/copy":{"post":{"tags":["image"],"summary":"request-to-copy image","operationId":"image#request-to-copy","parameters":[{"name":"Request-To-CopyRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/ImageRequestToCopyRequestBody","required":["source","destination"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","format":"uuid"}}},"schemes":["http"]}},"/image/copy/{request_id}":{"get":{"tags":["image"],"summary":"query-copying-status image","operationId":"image#query-copying-status","parameters":[{"name":"request_id","in":"path","description":"request track id","required":true,"type":"string","format":"uuid"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","enum":["queued","processing","success","failed","canceled"]}}},"schemes":["http"]}},"/tiup/publish-request":{"post":{"tags":["tiup"],"summary":"request-to-publish tiup","operationId":"tiup#request-to-publish","parameters":[{"name":"Request-To-PublishRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/TiupRequestToPublishRequestBody","required":["artifact_url","tiup-mirror"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"type":"string","example":"Quo at optio rerum laboriosam."}}}},"schemes":["http"]}},"/tiup/publish-request/{request_id}":{"get":{"tags":["tiup"],"summary":"query-publishing-status tiup","operationId":"tiup#query-publishing-status","parameters":[{"name":"request_id","in":"path","description":"request track id","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","enum":["queued","processing","success","failed","canceled"]}}},"schemes":["http"]}},"/tiup/reset-rate-limit":{"post":{"tags":["tiup"],"summary":"reset-rate-limit tiup","operationId":"tiup#reset-rate-limit","responses":{"200":{"description":"OK response."}},"schemes":["http"]}}},"definitions":{"FileserverRequestToPublishRequestBody":{"title":"FileserverRequestToPublishRequestBody","type":"object","properties":{"artifact_url":{"type":"string","description":"The full url of the pushed OCI artifact, contain the tag part. It will parse the repo from it.","example":"Fugit qui fuga omnis."}},"example":{"artifact_url":"Optio qui sequi atque et."},"required":["artifact_url"]},"ImageRequestToCopyRequestBody":{"title":"ImageRequestToCopyRequestBody","type":"object","properties":{"destination":{"type":"string","description":"destination image url","example":"Ipsam distinctio sit nostrum."},"source":{"type":"string","description":"source image url","example":"Architecto cupiditate in aut praesentium delectus eum."}},"example":{"destination":"Distinctio et ut beatae dolore.","source":"Non animi ipsum unde voluptatem voluptas."},"required":["source","destination"]},"TiupRequestToPublishRequestBody":{"title":"TiupRequestToPublishRequestBody","type":"object","properties":{"artifact_url":{"type":"string","description":"The full url of the pushed OCI artifact, contain the tag part. It will parse the repo from it.","example":"Sed id."},"request_id":{"type":"string","description":"The request id","example":"Dolorem consectetur consectetur non."},"tiup-mirror":{"type":"string","description":"Staging is http://tiup.pingcap.net:8988, product is http://tiup.pingcap.net:8987.","default":"http://tiup.pingcap.net:8988","example":"Dolor recusandae et soluta veritatis."},"version":{"type":"string","description":"Force set the version. Default is the artifact version read from `org.opencontainers.image.version` of the manifest config.","example":"Et et ut ut et."}},"example":{"artifact_url":"Quibusdam consequatur nostrum nobis.","request_id":"Tempora voluptas numquam quisquam.","tiup-mirror":"Sed molestiae.","version":"Molestiae veritatis delectus nesciunt beatae distinctio explicabo."},"required":["artifact_url","tiup-mirror"]}}}
